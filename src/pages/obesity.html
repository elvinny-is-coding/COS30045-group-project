<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Obesity,Diabetes and Nutrition Impact in US</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <script src="https://d3js.org/d3.v6.min.js"></script>
  <script src="../js/script.js" defer></script>
  <script src="../js/data-table.js" defer></script>
</head>
<body class="bg-gray-100 font-sans">

 <!-- Navbar -->
 <nav id="navbar" class="bg-blue-600 text-white p-4 flex items-center justify-between md:justify-between md:p-4">
  <div class="flex items-center">
    <span class="text-lg font-bold">ODNI US</span>
  </div>
  <button class="text-white focus:outline-none md:hidden" id="burger">
    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path>
    </svg>
  </button>
  <div class="hidden md:flex md:space-x-4" id="nav-items-navbar">
    <a href="../index.html" class="text-white hover:text-gray-300">Home</a>
    <a
      href="./oecd-obesity-rates-mex-usa-gbr-2018.html"
      class="text-white hover:text-gray-300"
      >OECD USA GBR MEX Obesity</a
    >
    <a href="population.html" class="text-white hover:text-gray-300"
      >Population Map</a
    >
    <a
      href="obesity-deathrates.html"
      class="text-white hover:text-gray-300"
      >Obesity Death Rates</a
    >
    <a
      href="diabetes-sankey.html"
      class="text-white hover:text-gray-300"
      >Diabetes Risk</a
    >
    <a
      href="diabetes-risk.html"
      class="text-white hover:text-gray-300"
      >Diabetes Impact</a
    >
  </div>
</nav>
<!-- Sidebar -->
<div id="sidebar" class="fixed inset-0 z-30 bg-blue-600 text-white w-64 transform -translate-x-full transition-transform duration-300 md:relative md:translate-x-0">
  <!-- Close Button -->
  <button id="close-sidebar" class="text-white absolute top-4 right-4 focus:outline-none hidden">
    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
    </svg>
  </button>
  
  <!-- Navigation Items -->
  <div id="nav-items-sidebar" class="space-y-4 flex flex-col items-start p-4 hidden">
    <a href="../index.html" class="text-white hover:text-gray-300 py-2 px-4 w-full text-left">Home</a>
    <a href="./oecd-obesity-rates-mex-usa-gbr-2018.html" class="text-white hover:text-gray-300 py-2 px-4 w-full text-left">OECD USA GBR MEX Obesity</a>
    <a href="population.html" class="text-white hover:text-gray-300 py-2 px-4 w-full text-left">Population Map</a>
    <a href="obesity-deathrates.html" class="text-white hover:text-gray-300 py-2 px-4 w-full text-left">Obesity Death Rates</a>
    <a href="diabetes-sankey.html" class="text-white hover:text-gray-300 py-2 px-4 w-full text-left">Diabetes Risk</a>
    <a href="diabetes-risk.html" class="text-white hover:text-gray-300 py-2 px-4 w-full text-left">Diabetes Impact</a>
  </div>
</div>

  <!-- Content Wrapper -->
  <div class="flex flex-col md:flex-row p-4">
    
    <!-- Sidebar (Filters) -->
    <div id="filter-sidebar" class="w-full md:w-1/4 bg-white p-4 rounded shadow md:mr-4">
     
      <h2 class="text-lg font-semibold mb-2">Visual</h2>
      <div class="mb-4">
        
      <h2>Select Year</h2>
    <div id="year-selection" class="mb-4">
        <ul id="year-list" class="button-container flex flex-col items-center space-y-4 mt-4">
            <!-- Years will be dynamically added here -->
        </ul>
    </div>
      </div>
      <!-- Additional filters can be added here -->
    </div>
    

    <!-- Main Content -->
<div id="main-content" class="flex-1 bg-white p-4 rounded shadow">
  <script type="module" src="../js/obesity.js"></script> <!-- Ensure you're loading the JS file -->
  <!-- Title and Button Section -->
  <div id="visualization-buttons" class="mb-4 flex space-x-4">
    <button id="population-btn" class="bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-600 transition duration-150 ease-in-out">
      Population Map
  </button>
  <button id="obesity-btn" class="bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-600 transition duration-150 ease-in-out">
      Obesity Map
  </button>
  <button id="diabetes-btn" class="bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-600 transition duration-150 ease-in-out">
    Diabetes Map
  </button>
</div>
<div id="visualization-title" class="mb-2 text-lg font-semibold text-gray-700">
      <!-- Title will be set dynamically -->
      Population of United States of America
  </div>
  

<script>
    // Event listeners for buttons
    document.getElementById("oecd-btn").addEventListener("click", () => {
        window.location.href = "./oecd-obesity-rates-mex-usa-gbr-2018.html";
    });
    // Event listeners for buttons
    document.getElementById("population-btn").addEventListener("click", () => {
        window.location.href = "./population.html";
    });

    document.getElementById("obesity-btn").addEventListener("click", () => {
        window.location.href = "./obesity.html";
    });

    document.getElementById("diabetes-dr-btn").addEventListener("click", () => {
      window.location.href = "./diabetes.html";
    });
</script>
  
  
  <!-- Placeholder for dynamically loaded visualization -->
  <div id="visualization" class="w-full h-screen bg-gray-100 border rounded flex items-center justify-center">
      <span class="text-gray-500" id="visualize"></span>
  </div>
  <div id="state-info" class="p-4 border mb-4"></div>

  <div id="legend"></div>
  
  
  <!-- Tooltip for hover information -->
  <div id="tooltip" class="absolute bg-white text-black px-2 py-1 rounded shadow-lg" style="display:none; position: absolute;"></div>
  
  <!-- Data Table -->
  <table id="data-table" class="w-full bg-white border rounded overflow-auto">
    <thead>
        <tr>
            <th class="border border-gray-300 py-3 px-4 text-left text-sm font-semibold">State</th>
            <th class="border border-gray-300 py-3 px-4 text-left text-sm font-semibold">Population</th>
            <th class="border border-gray-300 py-3 px-4 text-left text-sm font-semibold">Obesity Rate (%)</th>
            <th class="border border-gray-300 py-3 px-4 text-left text-sm font-semibold">Obesity Population</th>
        </tr>
    </thead>
    <tbody></tbody>
</table>
<div id="pagination-controls" class="flex items-center justify-between mt-4">
  <button id="prev-button" class="pagination-button bg-blue-500 text-white font-semibold py-2 px-4 rounded hover:bg-blue-600 disabled:opacity-50" disabled>Previous</button>
  <span id="page-info" class="font-medium text-gray-700"></span>
  <button id="next-button" class="pagination-button bg-blue-500 text-white font-semibold py-2 px-4 rounded hover:bg-blue-600">Next</button>
</div>

<br>

<div id="chart" class="w-full h-screen bg-gray-100 border rounded items-center justify-center">
  <script src="../js/heartbeat-obesity-population.js" defer></script><div id="chart-visualize"></div>
  

<div id="chart-legend" class="flex flex-wrap mt-4 justify-center"></div>

<style>
  #tooltip1 {
    position: absolute;
    display: none; /* Initially hidden */
    background: white;
    border: 1px solid #ccc;
    padding: 5px;
    border-radius: 4px;
    pointer-events: none; /* Prevents interference with mouse events */
    z-index: 1000; /* Ensure tooltip is on top */

  }
  .legend-item {
  display: flex;
  align-items: center;
  margin: 5px;
  cursor: pointer;
}
.legend-color {
  width: 18px;
  height: 18px;
  margin-right: 8px;
}
</style>
<!-- Visualization Info -->
<div id="visualization-info" class="mt-4 p-4  rounded-lg shadow-md text-gray-700">
  <h2 class="text-xl font-semibold mb-2">Obesity Population Overview</h2>
  <p class="mb-2">
    This interactive visualization provides a comprehensive overview of obesity populations across the USA, highlighting how obesity rates and affected populations vary by state. The data presented includes the total population, the percentage of the population that is obese, and the total number of individuals affected by obesity in each state.
  </p>
  <p class="mb-2">
    The obesity rate is calculated based on survey data collected throughout the year. Multiple values of the rate are recorded, and the average rate is used to estimate the obesity population. This approach ensures a more accurate representation of the obesity rate, though it may vary across different states and in real-time situations.
  </p>
  <p class="mb-2">
    By examining this data, users can explore the geographical distribution of obesity and identify trends over time. This allows for a deeper understanding of how population size and obesity rates correlate, offering insights into public health challenges and the impact of obesity on different regions.
  </p>
  <p class="mb-2">
    This visualization is a crucial component of our project, which investigates the relationship between nutrition, obesity, and diabetes mortality. It enables users to pinpoint areas with high obesity populations and track changes over the years, providing valuable context for addressing public health issues related to obesity.
  </p>
  <p>
    The data is presented in a clear and interactive format, making it easy to navigate and analyze. This helps stakeholders, researchers, and policymakers to make informed decisions and develop targeted interventions to combat obesity and its associated health risks.
  </p>
</div>
   
</div>

  <script>

    
    // Toggle the sidebar visibility on small screens
    const burgerButton = document.getElementById('burger');
    const sidebar = document.getElementById('sidebar');
    const closeSidebarButton = document.getElementById('close-sidebar');
    const navItemsSidebar = document.getElementById('nav-items-sidebar');

    burgerButton.addEventListener('click', () => {
      sidebar.classList.toggle('-translate-x-full');
      closeSidebarButton.classList.toggle('hidden');
      navItemsSidebar.classList.toggle('hidden'); // Toggle sidebar nav items
    });

    closeSidebarButton.addEventListener('click', () => {
      sidebar.classList.add('-translate-x-full');
      closeSidebarButton.classList.add('hidden');
      navItemsSidebar.classList.add('hidden'); // Hide sidebar nav items
    });

    
  </script>

  <script>
    
  </script>

</body>
</html>

