<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Obesity,Diabetes and Nutrition Impact in US</title>
    <link
      href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"
      rel="stylesheet"
    />
    <script src="https://d3js.org/d3.v6.min.js"></script>
    <script src="../js/script.js"></script>
    <script src="../js/data-table.js" defer></script>
  </head>
  <body class="bg-gray-100 font-sans">
    <!-- Navbar -->
    <nav
      id="navbar"
      class="bg-blue-600 text-white p-4 flex items-center justify-between md:justify-between md:p-4"
    >
      <div class="flex items-center">
        <span class="text-lg font-bold">ODNI US</span>
      </div>
      <button class="text-white focus:outline-none md:hidden" id="burger">
        <svg
          class="w-6 h-6"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M4 6h16M4 12h16m-7 6h7"
          ></path>
        </svg>
      </button>
      <div class="hidden md:flex md:space-x-4" id="nav-items-navbar">
        <a href="../index.html" class="text-white hover:text-gray-300">Home</a>
        <a
          href="./oecd-obesity-rates-mex-usa-gbr-2018.html"
          class="text-white hover:text-gray-300"
          >OECD USA GBR MEX Obesity</a
        >
        <a href="population.html" class="text-white hover:text-gray-300"
          >Population Map</a
        >
        <a href="obesity-deathrates.html" class="text-white hover:text-gray-300"
          >Obesity Death Rates</a
        >
        <a href="diabetes-sankey.html" class="text-white hover:text-gray-300"
          >Diabetes Risk</a
        >
        <a href="diabetes-risk.html" class="text-white hover:text-gray-300"
          >Diabetes Impact</a
        >
      </div>
    </nav>
    <!-- Sidebar -->
    <div
      id="sidebar"
      class="fixed inset-0 z-30 bg-blue-600 text-white w-64 transform -translate-x-full transition-transform duration-300 md:relative md:translate-x-0"
    >
      <!-- Close Button -->
      <button
        id="close-sidebar"
        class="text-white absolute top-4 right-4 focus:outline-none hidden"
      >
        <svg
          class="w-6 h-6"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M6 18L18 6M6 6l12 12"
          ></path>
        </svg>
      </button>

      <!-- Navigation Items -->
      <div
        id="nav-items-sidebar"
        class="space-y-4 flex flex-col items-start p-4 hidden"
      >
        <a
          href="../index.html"
          class="text-white hover:text-gray-300 py-2 px-4 w-full text-left"
          >Home</a
        >
        <a
          href="./oecd-obesity-rates-mex-usa-gbr-2018.html"
          class="text-white hover:text-gray-300 py-2 px-4 w-full text-left"
          >OECD USA GBR MEX Obesity</a
        >
        <a
          href="population.html"
          class="text-white hover:text-gray-300 py-2 px-4 w-full text-left"
          >Population Map</a
        >
        <a
          href="obesity-deathrates.html"
          class="text-white hover:text-gray-300 py-2 px-4 w-full text-left"
          >Obesity Death Rates</a
        >
        <a
          href="diabetes-sankey.html"
          class="text-white hover:text-gray-300 py-2 px-4 w-full text-left"
          >Diabetes Risk</a
        >
        <a
          href="diabetes-risk.html"
          class="text-white hover:text-gray-300 py-2 px-4 w-full text-left"
          >Diabetes Impact</a
        >
      </div>
    </div>

    <!-- Content Wrapper -->
    <div class="flex flex-col md:flex-row p-4">
      <!-- Main Content -->
      <div id="main-content" class="flex-1 bg-white p-4 rounded shadow">
        <script type="module" src="../js/diabetes-risk.js"></script>
        <!-- Ensure you're loading the JS file -->
        <!-- Title and Button Section -->
        <div id="visualization-buttons" class="mb-4 flex space-x-4">
          <button
            id="diabetes-btn"
            class="bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-600 transition duration-150 ease-in-out"
          >
            Diabetes Map
          </button>
          <button
            id="risk-btn"
            class="bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-600 transition duration-150 ease-in-out"
          >
            Diabetes Risk
          </button>
          <button
            id="impact-btn"
            class="bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-600 transition duration-150 ease-in-out"
          >
            Diabetes Impact
          </button>
        </div>
        <div
          id="visualization-title"
          class="mb-2 text-lg font-semibold text-gray-700"
        >
          <!-- Title will be set dynamically -->
          Year Life Lost (YLLs) Burden of Mortality in United State
        </div>

        <script>
          document
            .getElementById("diabetes-btn")
            .addEventListener("click", () => {
              window.location.href = "./diabetes.html";
            });
          document.getElementById("risk-btn").addEventListener("click", () => {
            window.location.href = "./diabetes-sankey.html";
          });
          document
            .getElementById("impact-btn")
            .addEventListener("click", () => {
              window.location.href = "./diabetes-risk.html";
            });
        </script>

        <!-- Placeholder for dynamically loaded visualization -->
        <div
          id="visualization"
          class="rounded flex items-center justify-center my-10"
        ></div>

        <div id="breadcrumb" class="flex items-center space-x-2">
          <!-- Static part of the breadcrumb -->
          <span class="text-xl text-gray-500">Dietary Risk</span>
          <!-- Example of the first item -->
          <!-- Dynamic parts (will be updated dynamically) -->
        </div>

        <div id="legend"></div>

        <!-- Tooltip for hover information -->
        <div
          id="tooltip"
          class="absolute bg-white text-black px-2 py-1 rounded shadow-lg"
          style="display: none; position: absolute"
        ></div>

        <!-- Visualization Info -->
        <div
          id="visualization-info"
          class="mt-4 p-4 bg-gray-100 rounded-lg shadow-md text-gray-700"
        >
          <h2>Global Diabetes Risk Factors</h2>
          <p>
            This interactive sunburst chart visualizes the **Total Years of Life
            (TYYs)** lost across various diabetes risk factors, such as dietary
            risk, geographic location, gender, and age range. TYYs represent the
            total years of life lost due to premature death, without separating
            mortality and morbidity factors.
          </p>
          <br />
          <h3>How to Interact:</h3>
          <ul class="list-disc pl-5">
            <li>
              <strong>Zoom In:</strong> Click on any section to zoom in and
              explore the next level of detail (e.g., from dietary risk to
              specific countries or age groups).
            </li>
            <li>
              <strong>Zoom Out:</strong> Click on the center circle or use the
              "back" navigation to zoom out to the previous level.
            </li>
            <li>
              <strong>Hover:</strong> Hover over any section to view more
              information about that category, including its TYY value.
            </li>
          </ul>
          <br />
          <h3>How to Interpret:</h3>
          <ul class="list-disc pl-5">
            <li>
              <strong>Each Ring:</strong> Represents a different layer of the
              data hierarchy. Starting from the outermost ring, the layers
              represent broader categories like dietary risk, moving towards
              more specific groups like gender and age range.
            </li>
            <li>
              <strong>Color:</strong> Different colors are used to distinguish
              between categories and levels in the hierarchy. Each section's
              color corresponds to its category (e.g., different colors for
              different regions or demographic groups).
            </li>
            <li>
              <strong>Size:</strong> The size of each segment indicates the
              **Total Years of Life (TYYs) lost due to diabetes risk factors,
              allowing users to easily compare the relative burden across
              different groups. TYYs reflect the total years of life lost across
              both premature deaths and living with disabilities.
            </li>
          </ul>
          <br />
          <p>
            <strong>Layers Displayed:</strong> Dietary Risk, Location, Gender,
            Age Range
          </p>
          <p>
            <strong>Data Source:</strong> Global Burden of Disease Study 2021
            (GBD 2021) Mortality and Life Expectancy Forecasts 2022-2050
          </p>
          <p><strong>Organization:</strong> IHME</p>
        </div>
      </div>
    </div>

    <script>
      // Toggle the sidebar visibility on small screens
      const burgerButton = document.getElementById("burger");
      const sidebar = document.getElementById("sidebar");
      const closeSidebarButton = document.getElementById("close-sidebar");
      const navItemsSidebar = document.getElementById("nav-items-sidebar");

      burgerButton.addEventListener("click", () => {
        sidebar.classList.toggle("-translate-x-full");
        closeSidebarButton.classList.toggle("hidden");
        navItemsSidebar.classList.toggle("hidden"); // Toggle sidebar nav items
      });

      closeSidebarButton.addEventListener("click", () => {
        sidebar.classList.add("-translate-x-full");
        closeSidebarButton.classList.add("hidden");
        navItemsSidebar.classList.add("hidden"); // Hide sidebar nav items
      });
    </script>

    <script></script>
  </body>
</html>
